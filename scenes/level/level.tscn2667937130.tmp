[gd_scene load_steps=11 format=4 uid="uid://juu2xx3c7bpj"]

[ext_resource type="Script" uid="uid://bnuvnx2t3vedx" path="res://scenes/map/map.gd" id="1_bc8i7"]
[ext_resource type="Texture2D" uid="uid://crxho8kpy11bw" path="res://assets/tilesets/hexes.png" id="2_c46cf"]
[ext_resource type="Material" uid="uid://bogk8vnwmbko4" path="res://shaders/buildable.tres" id="2_tepiu"]
[ext_resource type="Material" uid="uid://cdp2p7n0x728i" path="res://shaders/not_buildable.tres" id="3_mxy3l"]
[ext_resource type="Script" uid="uid://b212ccqfag76w" path="res://scenes/map/ground.gd" id="3_tepiu"]
[ext_resource type="Script" uid="uid://cyfyyvym2hwa6" path="res://addons/TopDownCamera2D/top_down_camera_2d.gd" id="4_mxy3l"]
[ext_resource type="PackedScene" uid="uid://c6rr0laopmbai" path="res://UI/hud.tscn" id="5_d0tvl"]
[ext_resource type="Script" uid="uid://d6cggvk3vfdr" path="res://scenes/map/build_area.gd" id="5_tepiu"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_vy03s"]
texture = ExtResource("2_c46cf")
margins = Vector2i(0, 64)
separation = Vector2i(0, 70)
texture_region_size = Vector2i(512, 448)
0:0/next_alternative_id = 6
0:0/0 = 0
0:0/2 = 2
0:0/2/material = ExtResource("2_tepiu")
0:0/3 = 3
0:0/3/material = ExtResource("3_mxy3l")
1:0/next_alternative_id = 4
1:0/0 = 0
1:0/2 = 2
1:0/2/flip_v = true
1:0/2/material = ExtResource("2_tepiu")
1:0/3 = 3
1:0/3/material = ExtResource("3_mxy3l")
2:0/next_alternative_id = 4
2:0/0 = 0
2:0/2 = 2
2:0/2/material = ExtResource("2_tepiu")
2:0/3 = 3
2:0/3/material = ExtResource("3_mxy3l")
3:0/next_alternative_id = 4
3:0/0 = 0
3:0/2 = 2
3:0/2/material = ExtResource("2_tepiu")
3:0/3 = 3
3:0/3/material = ExtResource("3_mxy3l")
4:0/next_alternative_id = 4
4:0/0 = 0
4:0/1 = 1
4:0/1/material = ExtResource("2_tepiu")
4:0/3 = 3
4:0/3/material = ExtResource("3_mxy3l")
5:0/next_alternative_id = 4
5:0/0 = 0
5:0/2 = 2
5:0/2/material = ExtResource("2_tepiu")
5:0/3 = 3
5:0/3/material = ExtResource("3_mxy3l")

[sub_resource type="TileSet" id="TileSet_5gxqp"]
tile_shape = 3
tile_offset_axis = 1
tile_size = Vector2i(512, 448)
custom_data_layer_0/name = "tint_mode"
custom_data_layer_0/type = 2
sources/0 = SubResource("TileSetAtlasSource_vy03s")

[node name="Level" type="Node2D"]

[node name="Map" type="Node2D" parent="."]
z_index = 1
script = ExtResource("1_bc8i7")

[node name="Ground" type="TileMapLayer" parent="Map"]
z_index = -1
tile_map_data = PackedByteArray("AAABAAAAAAACAAAAAAABAAEAAAACAAAAAAABAAIAAAACAAAAAAABAAMAAAADAAAAAAACAP3/AAABAAAAAAACAP7/AAABAAAAAAACAP//AAABAAAAAAACAAAAAAADAAAAAAACAAEAAAACAAAAAAACAAIAAAACAAAAAAACAAMAAAACAAAAAAADAP3/AAABAAAAAAADAP7/AAADAAAAAAADAP//AAABAAAAAAADAAAAAAABAAAAAAADAAEAAAADAAAAAAADAAIAAAABAAAAAAADAAMAAAABAAAAAAAEAP3/AAADAAAAAAAEAP7/AAADAAAAAAAEAP//AAADAAAAAAAEAAAAAAABAAAAAAAEAAEAAAABAAAAAAAEAAIAAAABAAAAAAAEAAMAAAABAAAAAAAFAP3/AAADAAAAAAAFAP7/AAAEAAAAAAAFAP//AAADAAAAAAAFAAAAAAADAAAAAAAFAAEAAAADAAAAAAAFAAIAAAADAAAAAAAFAAMAAAADAAAAAAAGAP3/AAADAAAAAAAGAP7/AAADAAAAAAAGAP//AAAEAAAAAAAGAAAAAAADAAAAAAAGAAEAAAADAAAAAAAGAAIAAAADAAAAAAAGAAMAAAADAAAAAAAHAP3/AAADAAAAAAAHAP7/AAADAAAAAAAHAP//AAADAAAAAAAHAAAAAAADAAAAAAAHAAEAAAABAAAAAAAHAAIAAAABAAAAAAAHAAMAAAACAAAAAAAIAP3/AAADAAAAAAAIAP7/AAABAAAAAAAIAP//AAABAAAAAAAIAAAAAAABAAAAAAAIAAEAAAABAAAAAAAIAAIAAAADAAAAAAAIAAMAAAADAAAAAAAGAAQAAAACAAAAAAAHAAQAAAACAAAAAAAFAAQAAAADAAAAAAAEAAQAAAABAAAAAAADAAQAAAABAAAAAAACAAQAAAABAAAAAAABAAQAAAABAAAAAAAIAAQAAAACAAAAAAAJAAMAAAACAAAAAAAKAAQAAAADAAAAAAAJAAQAAAACAAAAAAAIAAUAAAACAAAAAAAHAAUAAAADAAAAAAAGAAUAAAACAAAAAAAFAAUAAAADAAAAAAAEAAUAAAADAAAAAAADAAUAAAABAAAAAAACAAUAAAABAAAAAAABAAUAAAABAAAAAAAJAAIAAAADAAAAAAAJAAEAAAADAAAAAAAKAAMAAAACAAAAAAAKAAIAAAADAAAAAAALAAMAAAADAAAAAAALAAIAAAACAAAAAAACAAYAAAABAAAAAAAAAAUAAAABAAAAAAAAAAQAAAADAAAAAAD//wQAAAADAAAAAAD//wUAAAADAAAAAAD+/wUAAAADAAAAAAD7/wMAAAADAAAAAAD7/wIAAAADAAAAAAD7/wEAAAADAAAAAAD7/wAAAAADAAAAAAD7////AAADAAAAAAD7//7/AAADAAAAAAD7//3/AAADAAAAAAD+//3/AAADAAAAAAD+//7/AAADAAAAAAD+////AAACAAAAAAD+/wAAAAACAAAAAAD+/wEAAAAAAAAAAAD+/wIAAAAAAAAAAAD///3/AAADAAAAAAAAAP3/AAADAAAAAAABAP3/AAADAAAAAAAAAP7/AAADAAAAAAABAP7/AAADAAAAAAAAAP//AAADAAAAAAABAP//AAADAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAACAAAAAAD8//3/AAADAAAAAAD8//7/AAADAAAAAAD8////AAADAAAAAAD8/wAAAAACAAAAAAD8/wEAAAACAAAAAAD8/wIAAAACAAAAAAD8/wMAAAADAAAAAAD9//3/AAADAAAAAAD9//7/AAADAAAAAAD9////AAACAAAAAAD9/wAAAAACAAAAAAD9/wEAAAAAAAAAAAD9/wIAAAACAAAAAAD9/wMAAAADAAAAAAD+/wMAAAACAAAAAAD///7/AAADAAAAAAD/////AAACAAAAAAD//wAAAAAAAAAAAAD//wEAAAAAAAAAAAD//wIAAAAAAAAAAAD//wMAAAACAAAAAAA=")
tile_set = SubResource("TileSet_5gxqp")
script = ExtResource("3_tepiu")

[node name="BuildArea" type="TileMapLayer" parent="Map"]
visible = false
z_index = -1
tile_map_data = PackedByteArray("AAABAAAAAAACAAAAAAABAAEAAAACAAAAAAABAAIAAAACAAAAAAABAAMAAAADAAAAAAACAP3/AAABAAAAAAACAP7/AAABAAAAAAACAP//AAABAAAAAAACAAAAAAADAAAAAAACAAEAAAACAAAAAAACAAIAAAACAAAAAAACAAMAAAACAAAAAAADAP3/AAABAAAAAAADAP7/AAADAAAAAAADAP//AAABAAAAAAADAAAAAAABAAAAAAADAAEAAAADAAAAAAADAAIAAAABAAAAAAADAAMAAAABAAAAAAAEAP3/AAADAAAAAAAEAP7/AAADAAAAAAAEAP//AAADAAAAAAAEAAAAAAABAAAAAAAEAAEAAAABAAAAAAAEAAIAAAABAAAAAAAEAAMAAAABAAAAAAAFAP3/AAADAAAAAAAFAP7/AAAEAAAAAAAFAP//AAADAAAAAAAFAAAAAAADAAAAAAAFAAEAAAADAAAAAAAFAAIAAAADAAAAAAAFAAMAAAADAAAAAAAGAP3/AAADAAAAAAAGAP7/AAADAAAAAAAGAP//AAAEAAAAAAAGAAAAAAADAAAAAAAGAAEAAAADAAAAAAAGAAIAAAADAAAAAAAGAAMAAAADAAAAAAAHAP3/AAADAAAAAAAHAP7/AAADAAAAAAAHAP//AAADAAAAAAAHAAAAAAADAAAAAAAHAAEAAAABAAAAAAAHAAIAAAABAAAAAAAHAAMAAAACAAAAAAAIAP3/AAADAAAAAAAIAP7/AAABAAAAAAAIAP//AAABAAAAAAAIAAAAAAABAAAAAAAIAAEAAAABAAAAAAAIAAIAAAADAAAAAAAIAAMAAAADAAAAAAAGAAQAAAACAAAAAAAHAAQAAAACAAAAAAAFAAQAAAADAAAAAAAEAAQAAAABAAAAAAADAAQAAAABAAAAAAACAAQAAAABAAAAAAABAAQAAAABAAAAAAAIAAQAAAACAAAAAAAJAAMAAAACAAAAAAAKAAQAAAADAAAAAAAJAAQAAAACAAAAAAAIAAUAAAACAAAAAAAHAAUAAAADAAAAAAAGAAUAAAACAAAAAAAFAAUAAAADAAAAAAAEAAUAAAADAAAAAAADAAUAAAABAAAAAAACAAUAAAABAAAAAAABAAUAAAABAAAAAAAJAAIAAAADAAAAAAAJAAEAAAADAAAAAAAKAAMAAAACAAAAAAAKAAIAAAADAAAAAAALAAMAAAADAAAAAAALAAIAAAACAAAAAAACAAYAAAABAAAAAAAAAAUAAAABAAAAAAAAAAQAAAADAAAAAAD//wQAAAADAAAAAAD//wUAAAADAAAAAAD+/wUAAAADAAAAAAD7/wMAAAADAAAAAAD7/wIAAAADAAAAAAD7/wEAAAADAAAAAAD7/wAAAAADAAAAAAD7////AAADAAAAAAD7//7/AAADAAAAAAD7//3/AAADAAAAAAD+//3/AAADAAAAAAD+//7/AAADAAAAAAD+////AAACAAAAAAD+/wAAAAACAAAAAAD+/wEAAAAAAAAAAAD+/wIAAAAAAAAAAAD///3/AAADAAAAAAAAAP3/AAADAAAAAAABAP3/AAADAAAAAAAAAP7/AAADAAAAAAABAP7/AAADAAAAAAAAAP//AAADAAAAAAABAP//AAADAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAACAAAAAAD8//3/AAADAAAAAAD8//7/AAADAAAAAAD8////AAADAAAAAAD8/wAAAAACAAAAAAD8/wEAAAACAAAAAAD8/wIAAAACAAAAAAD8/wMAAAADAAAAAAD9//3/AAADAAAAAAD9//7/AAADAAAAAAD9////AAACAAAAAAD9/wAAAAACAAAAAAD9/wEAAAAAAAAAAAD9/wIAAAACAAAAAAD9/wMAAAADAAAAAAD+/wMAAAACAAAAAAD///7/AAADAAAAAAD/////AAACAAAAAAD//wAAAAAAAAAAAAD//wEAAAAAAAAAAAD//wIAAAAAAAAAAAD//wMAAAACAAAAAAA=")
tile_set = SubResource("TileSet_5gxqp")
script = ExtResource("5_tepiu")

[node name="Node2D" type="Node2D" parent="."]

[node name="Camera2D" type="Camera2D" parent="Node2D"]
ignore_rotation = false
rotation_smoothing_enabled = true
script = ExtResource("4_mxy3l")
edge_scroll_enabled = false

[node name="Routes" type="Node2D" parent="."]

[node name="HUD" parent="." instance=ExtResource("5_d0tvl")]

[connection signal="on_building_factory" from="HUD" to="Map/Ground" method="_on_hud_on_building_factory"]
